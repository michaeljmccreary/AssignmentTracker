<div class="form-wrapper">
  <div class="form-container">
    <div class="form-card">
      <%= form_with(model: assignment, local: true) do |form| %>
        <%= form.hidden_field :classroom_id %>

        <div class="mb-3">
          <%= form.label :title, class: "form-label" %>
          <%= form.text_field :title, class: "form-control", placeholder: "Enter assignment title" %>
        </div>

        <div class="mb-3">
          <%= form.label :due_date, class: "form-label" %>
          <%= form.date_field :due_date, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= form.label :status, class: "form-label" %>
          <%= form.select :status, ["Not started", "In progress", "Completed"], {}, class: "form-select" %>
        </div>

        <div class="mb-3">
          <%= form.label :progress, "Progress (%)", class: "form-label" %>
          <%= form.range_field :progress, in: 0..100, class: "form-range", id: "progressRange" %>
          <output for="progressRange" class="form-text"><%= assignment.progress || 0 %>%</output>
        </div>

        <div class="d-flex gap-2">
          <%= form.submit class: "btn btn-primary" %>
          <%= link_to "Cancel", classroom_path(assignment.classroom), class: "btn btn-secondary" %>
        </div>
      <% end %>
    </div>
  </div>
</div>

<script>
  const progressRange = document.getElementById('progressRange');
  const progressOutput = document.querySelector('output[for="progressRange"]');
  
  if (progressRange && progressOutput) {
    progressRange.addEventListener('input', function() {
      progressOutput.textContent = this.value + '%';
    });
  }
</script>
